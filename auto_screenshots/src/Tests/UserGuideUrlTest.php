<?php

namespace Drupal\auto_screenshots\Tests;

use Drupal\simpletest\WebTestBase;

/**
 * Tests that URLs mentioned in the guide work.
 *
 * See scripts/findurls._php to list the URLs. It should be run periodically
 * and used to replace the list of URLs to test in this class. For example,
 * from the scripts directory, run this and then put the output in this class:
 * @code
 * php findurls._php ../source
 * @endcode
 *
 * @group UserGuide
 */
class UserGuideUrlTest extends WebTestBase {

  /**
   * List of URLs to test.
   *
   * @var array
   */
  protected $urlsToTest = [
    'http://advomatic.com',
    'http://creativecommons.org/licenses/by-sa/2.0',
    'http://drupal.org/security/contrib/rss.xml',
    'http://drupal.org/security/psa/rss.xml',
    'http://drupal.org/security/rss.xml',
    'http://drupal.stackexchange.com',
    'http://egyesulet.drupal.hu',
    'http://getfirebug.com',
    'http://git-scm.com',
    'http://gnu.hu/gpl.html',
    'http://gnu.hu/gplv3.html',
    'http://hojtsy.hu/blog/2013-jun-21/drupal-8-multilingual-tidbits-5-almost-limitless-language-assignment',
    'http://hojtsy.hu/blog/2015-jan-27/drupal-8-multilingual-tidbits-17-content-translation-basics',
    'http://pronovix.com',
    'http://redcrackle.com',
    'http://scc.spokane.edu',
    'http://www.blisstering.com',
    'http://www.drupical.com',
    'http://www.drush.org',
    'http://www.drush.org/en/master/cron',
    'http://www.gnu.org/licenses/gpl-3.0.en.html',
    'http://www.gnu.org/licenses/old-licenses/gpl-2.0.html',
    'http://www.goodfreephotos.com',
    'http://www.intelliswift.com',
    'http://www.pelda.hu/rolunk',
    'http://www.ymbra.com',
    'https://api.drupal.org',
    'https://api.drupal.org/api/drupal/core',
    'https://assoc.drupal.org',
    'https://cheppers.com',
    'https://commons.wikimedia.org/wiki/File',
    'https://creativecommons.org/licenses/by-sa/2.0',
    'https://creativecommons.org/licenses/by-sa/2.0/deed.hu',
    'https://creativecommons.org/publicdomain/zero/1.0/deed.hu',
    'https://developer.chrome.com/devtools',
    'https://developer.mozilla.org/en-US/docs/Tools',
    'https://drupal.org/pronovix',
    'https://drupal.org/u/ifrik',
    'https://drupal.org/u/jhodgdon',
    'https://drupalconsole.com',
    'https://drupalize.me',
    'https://en.wikipedia.org/wiki/Agricultural_Research_Service',
    'https://en.wikipedia.org/wiki/Content_management_system',
    'https://en.wikipedia.org/wiki/Cross-site_scripting',
    'https://en.wikipedia.org/wiki/Main_Page',
    'https://en.wikipedia.org/wiki/Modular_design',
    'https://en.wikipedia.org/wiki/Scalability',
    'https://en.wikipedia.org/wiki/en',
    'https://erdfisch.de',
    'https://ftp.drupal.org/files/projects/admin_toolbar-8.x-1.14.tar.gz',
    'https://ftp.drupal.org/files/projects/mayo-8.x-1.3.tar.gz',
    'https://getcomposer.org',
    'https://git.drupal.org/project/drupal.git',
    'https://groups.drupal.org',
    'https://groups.drupal.org/events',
    'https://groups.drupal.org/legal',
    'https://groups.drupal.org/spokane-wa',
    'https://hu.wikipedia.org/wiki/Tartalomkezel',
    'https://localize.drupal.org',
    'https://packages.drupal.org/8',
    'https://pelda.hu/node/5',
    'https://pelda.hu/rolunk',
    'https://pronovix.com',
    'https://twitter.com/drupalsecurity',
    'https://www.advomatic.com',
    'https://www.ars.usda.gov/is/graphics/photos/nov04/K11611-1.htm',
    'https://www.drupal.org',
    'https://www.drupal.org/about/faq',
    'https://www.drupal.org/about/licensing',
    'https://www.drupal.org/about/media-kit/logos',
    'https://www.drupal.org/brainsum',
    'https://www.drupal.org/case-studies',
    'https://www.drupal.org/cheppers',
    'https://www.drupal.org/community',
    'https://www.drupal.org/contribute',
    'https://www.drupal.org/contribute/development',
    'https://www.drupal.org/contribute/documentation',
    'https://www.drupal.org/contributor-tasks',
    'https://www.drupal.org/creating-drupal-test-sites',
    'https://www.drupal.org/cron',
    'https://www.drupal.org/dcoc',
    'https://www.drupal.org/developing/modules',
    'https://www.drupal.org/docs/8/core/modules/block',
    'https://www.drupal.org/docs/8/core/modules/custom_block',
    'https://www.drupal.org/docs/develop/local-server-setup',
    'https://www.drupal.org/docs/develop/using-composer/using-composer-with-drupal',
    'https://www.drupal.org/documentation',
    'https://www.drupal.org/documentation/backup',
    'https://www.drupal.org/documentation/blocks',
    'https://www.drupal.org/documentation/build/distributions',
    'https://www.drupal.org/documentation/clearing-rebuilding-cache',
    'https://www.drupal.org/documentation/install/create-database',
    'https://www.drupal.org/documentation/install/modules-themes/modules-8',
    'https://www.drupal.org/documentation/modules/block',
    'https://www.drupal.org/documentation/modules/blocks',
    'https://www.drupal.org/documentation/modules/breakpoint',
    'https://www.drupal.org/documentation/modules/filter',
    'https://www.drupal.org/documentation/modules/image',
    'https://www.drupal.org/documentation/modules/menu',
    'https://www.drupal.org/documentation/modules/node',
    'https://www.drupal.org/documentation/modules/responsive_image',
    'https://www.drupal.org/documentation/modules/taxonomy',
    'https://www.drupal.org/documentation/modules/workbench',
    'https://www.drupal.org/documentation/performance',
    'https://www.drupal.org/documentation/structure',
    'https://www.drupal.org/download',
    'https://www.drupal.org/drupal-services',
    'https://www.drupal.org/drupalcon',
    'https://www.drupal.org/forum',
    'https://www.drupal.org/getting-started/admin/reports',
    'https://www.drupal.org/getting-started/before/overview',
    'https://www.drupal.org/getting-started/install-contrib/themes',
    'https://www.drupal.org/global-training-days',
    'https://www.drupal.org/glossary',
    'https://www.drupal.org/governance',
    'https://www.drupal.org/irc',
    'https://www.drupal.org/issue-queue',
    'https://www.drupal.org/language-specific-communities',
    'https://www.drupal.org/node/101494',
    'https://www.drupal.org/node/120614',
    'https://www.drupal.org/node/120631',
    'https://www.drupal.org/node/1388492',
    'https://www.drupal.org/node/14307',
    'https://www.drupal.org/node/147789',
    'https://www.drupal.org/node/1577752',
    'https://www.drupal.org/node/171224',
    'https://www.drupal.org/node/1803614',
    'https://www.drupal.org/node/1896670',
    'https://www.drupal.org/node/2120523',
    'https://www.drupal.org/node/22284',
    'https://www.drupal.org/node/23714',
    'https://www.drupal.org/node/2486391',
    'https://www.drupal.org/node/250790',
    'https://www.drupal.org/node/314185',
    'https://www.drupal.org/node/31506',
    'https://www.drupal.org/node/31644',
    'https://www.drupal.org/node/340271',
    'https://www.drupal.org/node/627158',
    'https://www.drupal.org/node/774742',
    'https://www.drupal.org/node/774744',
    'https://www.drupal.org/node/774798',
    'https://www.drupal.org/node/774892',
    'https://www.drupal.org/node/991716',
    'https://www.drupal.org/planet',
    'https://www.drupal.org/project/admin_toolbar',
    'https://www.drupal.org/project/backup_migrate',
    'https://www.drupal.org/project/coder',
    'https://www.drupal.org/project/devel',
    'https://www.drupal.org/project/drupal',
    'https://www.drupal.org/project/drupal/releases/8.1.3',
    'https://www.drupal.org/project/drupalforfirebug',
    'https://www.drupal.org/project/features',
    'https://www.drupal.org/project/geofield',
    'https://www.drupal.org/project/issues/user_guide',
    'https://www.drupal.org/project/mayo',
    'https://www.drupal.org/project/modules',
    'https://www.drupal.org/project/pathauto',
    'https://www.drupal.org/project/project_distribution',
    'https://www.drupal.org/project/project_module',
    'https://www.drupal.org/project/project_theme',
    'https://www.drupal.org/project/registry_rebuild',
    'https://www.drupal.org/requirements',
    'https://www.drupal.org/resource-guides/configuring-multilingual-site',
    'https://www.drupal.org/security',
    'https://www.drupal.org/security-team',
    'https://www.drupal.org/security/secure-configuration',
    'https://www.drupal.org/support',
    'https://www.drupal.org/supporters/hosting',
    'https://www.drupal.org/theme-guide/8',
    'https://www.drupal.org/training',
    'https://www.drupal.org/try-drupal',
    'https://www.drupal.org/u/AnnGreazel',
    'https://www.drupal.org/u/JackProbst',
    'https://www.drupal.org/u/KarlKedrovsky',
    'https://www.drupal.org/u/ajayvi',
    'https://www.drupal.org/u/akosh',
    'https://www.drupal.org/u/amber-himes-matz',
    'https://www.drupal.org/u/andreupav',
    'https://www.drupal.org/u/anprok',
    'https://www.drupal.org/u/avanraaphorst',
    'https://www.drupal.org/u/balagan',
    'https://www.drupal.org/u/balu-ertl',
    'https://www.drupal.org/u/batigolix',
    'https://www.drupal.org/u/bemery987',
    'https://www.drupal.org/u/bsnodgrass',
    'https://www.drupal.org/u/chishah92',
    'https://www.drupal.org/u/chris-dart',
    'https://www.drupal.org/u/ckrina',
    'https://www.drupal.org/u/cleverington',
    'https://www.drupal.org/u/dalin',
    'https://www.drupal.org/u/davidlee55',
    'https://www.drupal.org/u/dgorton',
    'https://www.drupal.org/u/diana.lakatos',
    'https://www.drupal.org/u/docsi',
    'https://www.drupal.org/u/eojthebrave',
    'https://www.drupal.org/u/francescbassas',
    'https://www.drupal.org/u/gdunham',
    'https://www.drupal.org/u/halofx',
    'https://www.drupal.org/u/hey_germano',
    'https://www.drupal.org/u/ifrik',
    'https://www.drupal.org/u/jerseycheese',
    'https://www.drupal.org/u/jfmacdonald',
    'https://www.drupal.org/u/jgrubb',
    'https://www.drupal.org/u/jhodgdon',
    'https://www.drupal.org/u/jojyja',
    'https://www.drupal.org/u/jredding',
    'https://www.drupal.org/u/juanolalla',
    'https://www.drupal.org/u/jungle',
    'https://www.drupal.org/u/kamalkantpansari',
    'https://www.drupal.org/u/kvantomme',
    'https://www.drupal.org/u/les-lim',
    'https://www.drupal.org/u/lolk',
    'https://www.drupal.org/u/mark-lacroix',
    'https://www.drupal.org/u/mericamps',
    'https://www.drupal.org/u/michaellenahan',
    'https://www.drupal.org/u/mndonx',
    'https://www.drupal.org/u/pandelon',
    'https://www.drupal.org/u/person1',
    'https://www.drupal.org/u/person2',
    'https://www.drupal.org/u/petycomp',
    'https://www.drupal.org/u/pixiekiss',
    'https://www.drupal.org/u/podarok',
    'https://www.drupal.org/u/rvilar',
    'https://www.drupal.org/u/sree',
    'https://www.drupal.org/u/surendramohan',
    'https://www.drupal.org/u/swarad07',
    'https://www.drupal.org/u/vegantriathlete',
    'https://www.drupal.org/u/yrvyn',
    'https://www.drupal.org/u/zachcarter',
    'https://www.drupal.org/u/zsofimajor',
  ];

  /**
   * Tests that URLs can be reached with OK status.
   */
  public function testUrls() {
    foreach ($this->urlsToTest as $url) {
      $this->drupalGet($url);
      $this->assertResponse(200, "$url is status 200");
      $newURL = trim($this->getUrl(), '/');
      $this->assertEqual($url, $newURL, "$url ended up at the starting URL");
    }
  }

}
