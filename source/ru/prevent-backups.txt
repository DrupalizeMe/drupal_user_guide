[[prevent-backups]]

=== Основы: Резервная копия данных

[role="summary"]
Обзор создания резервных копий и как следует хранить копии сайта.

(((Резервная копия,обзор)))
(((Контент,создание резервных копий)))
(((Файл,создание резервных копий)))
(((База данных,создание резервных копий)))

==== Необходимые знания

* <<understanding-drupal>>
* <<install-prepare>>

==== Что такое резервная копия сайта?

Если что-нибудь случится с компьютером (или компьютерами), на котором ваш сайт и его
база данных работают или в случае когда вы потеряете доступ к этому компьютеру, то вы потеряете
некоторые или все данные вашего сайта. Вы можете также потерять данные, если ваш сайт
взломан, или кто-то с доступом в админку на вашем сайте удалил все данные или
изменил данные на сайте с ошибками. Чтобы предупредить все эти
возможные ситуации потерь данных, важно
делать регулярные резервные копии вашего сайта и хранить их в месте
отдельном от компьютера, где ваш сайт работает.

Частота с которой вы должны делать ваши резервные копии и как много копий вам
следует хранить, зависит от того как часто ваш сайт изменяется. Если вы имеете большой
объем информации на вашем сайте, которая была добавлена или обновлена много
раз за день, то вам следует делать резервные копии как можно чаще, чем если
сайт меняется редко. Также расчитывайте, что некоторое время должно пройти, между тем
когда проблема произойдет и когда вы заметите проблему, так что хранить нужно
несколько последовательных копий (так чтобы можно было вернуться к моменту, когда проблема еще не произошла и
исправить ее), прежде чем перезаписывать, какую-нибудь резервную копию немедленно, убедитесь
что ошибки которая возникла, нет в вашей резервной копии.


Еще одно предостережение, в каком формате бы вы не хранили ваши резервные копии,
хорошей идеей будет проверять, что вы можете развернуть вашу копию для восстановления ваших
данных. Вам возможно потребуется протестировать различные сценариии потери данных, чтобы
быть уверенным, что вы сможете восстановить утраченные данные во всех случаях.

Следующие шаги позволят сделать полную резервную копию
вашего сайта:

* Данные в папке _sites_, включая файл _sites/default/settings.php_.


* Данные из базы данных вашего сайта. Некоторые таблицы могут быть очищены, например
хранящие временный данные с кэшем и информацией о сессиях авторизованных пользователей, однако
всегда безопаснее создавать резервную копию всей базы данных.

* Загруженные файлы, такие как изображения и другие прикрепленные файлы. Местоположожение этих
файлов настраивается; стандартное местоположение это папка _sites/default/files_
относительно корня сайта. В _Управлении_ меню администратора, перейдите
на страницу _Конфигурация_ > _Медиа_ > _Файловая система_ (_admin/config/media/file-system_)
проверьте папку для загрузки файлов; вы можете изменить папку для файловой системы, вы также можете это сделать это
в файле _settings.php_.

* Модули, темы офомления и любые другие пользовательские файлы, которые вы добавили. Вы можете найти
пользовательские модули и темы оформления в папках _modules_ и _themes_
со всеми вложенными папками. Некоторые люди предпочитают создать резервную копию всех файлов, включая файлы Drupal,
модулей и тем оформления (которые вы сможете восстановить загрузив
их снова из исходников), прежде чем пытаться собрать проект из источников,
которые необходимо использовать.

Вам следует выполнить тест, чтобы потвердить, что ваша резервная копия создана верно
и вы можете развернуть копию сайта (смотрите <<install-dev-making>>).

==== Связанные темы

* <<security-update-core>>
* <<install-dev-making>>
* <<prevent-cache>>

==== Дополнительные материала

* https://www.drupal.org/docs/7/backing-up-and-migrating-a-site/backing-up-a-site[_Drupal.org_ community documentation page "Backing up a site"]

* The https://www.drupal.org/project/backup_migrate[contributed Backup and Migrate модуль],
который можно использовать для создания автоматических резервных копий базы данных и загруженных
файлов.


*Авторы*

Написано https://www.drupal.org/u/jhodgdon[Jennifer Hodgdon].

Написано https://www.drupal.org/u/levmyshkin[Иван Абраменко]
