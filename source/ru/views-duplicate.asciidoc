[[views-duplicate]]

=== Дублирование Представления

[role="summary"]
Как создать новую страницу, продублировав Представление.

(((Представление,дублирование)))
(((Модуль Views,дублирование представления)))
(((Модуль,Views)))

==== Цель

Создать страницу со списком рецептов, продублировав существующие представление Производители. Изменить
страницу так, чтобы рецепты отображались в сетке и могли фильтроваться по
ингредиентам.

==== Необходимые знания

* <<views-concept>>
* <<views-parts>>
* <<views-create>>

==== Требования к сайту

* Типы материалов Производитель и Рецепт должны существовать; оба должны иметь поля
Главное изображение, и тип материала Рецепт должен иметь поле Ингредиенты. Ваш сайт
также должен иметь несколько страниц материала Рецепт. Смотрите <<structure-content-type>>,
<<structure-fields>>, <<structure-taxonomy-setup>>, <<structure-form-editing>>,
и <<content-create>>.

* Представление Производители должно существовать. Смотрите <<views-create>>.

==== Шаги

. В _Управлении_ административного меню перейдите в _Структура_ > _Представления_
(_admin/structure/views_). Найдите представление "Производители" и нажмите на выпадающую кнопку
_Дубликат_. (Обратите внимание, что имена представлений, которые установились со стандартной установкой
Drupal имеют названия на русском языке на этой странице; смотрите <<language-concept>> для
объяснения.)
+
--
// Views page (admin/structure/views), with operations dropdown
// for Vendor view open.
image:images/views-duplicate_duplicate.png["Дублирование существующего представления",width="100%"]
--

. Введите название дубликата "Рецепты" и нажмите _Дубликат_. Появится страница
настройки представления.

. Чтобы изменить заголовок страницы представления на «Рецепты», нажмите на Производители
в поле _Заголовок_. Появится всплывающее окно
_Page: Заголовок данного представления_. Введите "Рецепты". Нажмите _Применить_.
+
--
// View title configuration screen.
image:images/views-duplicate_title.png["Выбор заголовка представления",width="100%"]
--

. Чтобы перейти из таблицы в формат сетки, нажмите _Таблица_ в поле _Формат_
под заголовком _Формат_.Появится всплывающее окно
_Page: Какой стиль будет иметь данное представление_. Выберите _Сетка_ и нажмите _Применить_. Появится всплывающее окно
_Page: Настройки стиля_. Сохраните значения по умолчанию и нажмите _Применить_.

. Сохраните только поля заголовок и изображения для представления Рецепты, нажмите
_Содержимое: Содержимое_ под заголовком _Поля_. Нажмите _Удалить_ в появившемся всплывающем окне.

. Чтобы изменить фильтр типа материала на использование типа материала Рецепт, нажмите
_Содержимое: Тип материала (=Производитель)_ под заголовком _Критерии фильтрации_. В сплывающем окне
_Настроить критерий фильтра: Содержимое: Тип материала_, выберите Рецепт и уберите галочку в поле Производитель. Нажмите
_Применить_.

. Чтобы добавить дополнительный фильтр, который открыт для посетителей, нажмите на выпадающую кнопку
_Добавить_ под заголовком _Критерии фильтрации_. Найдите "ингредиенты" и выберите
"Ингредиенты (field_ingredients)". Нажмите _Добавить и настроить критерии фильтрации_.

. Появившееся всплывающее окно предлагает дополнительные настройки словаря и способа
выбора. Нажмите _Применить и продолжить_. Следующее всплывающее окно позволяет вам выставить
фильтр для посетителей. Заполните поля, как показано ниже, и нажмите _Применить_.
+
[width="100%",frame="topbot",options="header"]
|================================
| Название поля | Описание| Пример значения
| Раскрыть этот фильтр для посетителей и позволить его изменять | Разрешить посетителям фильтровать и искать | Выбрано
| Обязательно | Должно ли быть предоставлено значение или нет | Не выбрано
| Метка | Метка, показанная для этого фильтра на странице представления | Найти рецепты...
|================================
+
--
// Ingredients field exposed filter configuration.
image:images/views-duplicate_expose.png["Выставить фильтр"]
--

.Чтобы изменить поле _Путь_ на "Рецепты", нажмите "/vendors" в поле _Путь_
под заголовком _Настройки страницы_. В сплывающем окне, введите путь
"recipes" и нажмите _Применить_.
+
Обратите внимание, что при редактировании представления вы вводите пути без начального символа "/", в отличие от
других административных страниц (например, при указании пути к материалу
страница).

. Чтобы изменить заголовок ссылки меню, нажмите "Нормальный: Производители" в поле _Меню_
под заголовком _Настройки страницы_. В появившемся всплывающем окне, изменить название на "Рецепты"
и нажмите _Применить_.

. Для того, чтобы использовать Ajax (смотрите <<glossary-ajax,Ajax entry in the Glossary>>) при этом
сделав фильтрацию и переключение страниц быстрее для пользователей, под _Расширенные_ > _Другое_, нажмите
_Нет_ в поле _Использовать AJAX_. Выберите _Использовать AJAX_во всплывающем окне, и
нажмите _Применить_.

. Нажмите _Сохранить_, чтобы сохранить представление.

.Вернитесь на домашнюю страницу и нажмите Рецепты в навигации, чтобы просмотреть новую
Страница рецептов.
+
--
// Completed recipes view output.
image:images/views-duplicate_final.png["Представление Рецепты",width="100%"]
--

==== Расширьте свое понимание

Ссылка на представление в основной навигации, вероятно, будет не на нужном
месте. Измените порядок пунктов меню в основной навигации. Смотрите
<<menu-reorder>>.

==== Схожие понятия

* <<planning-structure>>
* <<glossary-ajax, Ajax entry in the Glossary>>

==== Видео

// Video from Drupalize.Me.
video::https://www.youtube-nocookie.com/embed/weWFDgw84_M[title="Duplicating a View"]

//==== Additional resources


*Авторы*

Написано и отредактировано https://www.drupal.org/u/lolk[Laura Vass] в
https://pronovix.com/[Pronovix],
и https://www.drupal.org/u/jojyja[Jojy Alphonso] в
http://redcrackle.com[Red Crackle].

Переведено https://www.drupal.org/u/MishaIsmajlov[Михаил Исмайлов].
