[[views-block]]

=== Добавление Отображения блока для Представления

[role="summary"]
Как добавить Отображение блока для Представления

(((Представление,добавление отображения блока для)))
(((Блок,создание из представления)))
(((Views модуль,добавление представления)))
(((Модуль,Views)))

==== цель

Добавить отображение блока в представление Рецепты для отображения последних рецептов
в колонке и изменить его конфигурацию без изменения существующей
страницы отображения Рецептов.

==== Необходимые знания

* <<views-concept>>
* <<views-parts>>
* <<views-create>>

==== Требования к сайту

* Тип материала Рецепт должен быть создан, он должен иметь поле Главного изображения и ваш
сайт должен иметь пару страниц Рецептов. Смотрите <<structure-content-type>>,
<<structure-fields>>, <<structure-form-editing>> и <<content-create>>.

* Стиль изображения _Миниатюра (100x100)_ должен быть определен. Он создается на вашем
сайте, когда вы устанавливаете модуль ядра Image (устанавливается при стандартном
установочном профиле), однако можно пересоздать его если он был удален ранее. Смотрите
<<structure-image-style-create>>.

* Представление Рецепты должно быть создано. Смотрите <<views-create>> и <<views-duplicate>>.

==== Шаги

. В меню администратора _Управление_, перейдите в _Структура_ > _Представления_
(_admin/structure/views_). Найдите представление "Рецепты" и нажмите _Редактировать_ в
выпадающем списке-кнопке. Или по другому, перейдите на страницу Рецепты и в главном меню
сайта нажмите _Редактировать представление_ в контекстуальной ссылке в главном регионе
страницы. Смотрите <<config-overview>> для большей информации о контекстуальных ссылках.

. Создайте новое отображение блока, нажав _Добавить_ в _Отображения_. Нажмите
_Блок_ в списке ссылок, которые появятся. Новое отображение будет создано, и
фокус переключится автоматически на конфигурацию этого отображения.
+
--
// Add display button on Recipes view edit page, with Block highlighted
// (admin/structure/views/view/recipes).
image:images/views-block_add-block.png["Добавить отображение блока"]
--

. Чтобы изменить заголовок отображения, нажмите _Блок_ в поле _Имени
отображения_. Появится всплывающее окно _Блок: название и описание этого отображения_
. Измените _Административное имя_ на "Недавние рецепты". Нажмите _Применить_.

. Чтобы изменить заголовок блока, нажмите Рецепты в поле _Заголовок_
в разделе _Заголовок_. Во всплывающем окно выберите _Этот блок (переопределить)_ из
списка _Для_. Измените поле _Заголовок_ на "Новые рецепты" и нажмите
_Применить (это отображение)_.
+
--
// Configuring the block title for this display only.
image:images/views-block_title.png["Заголовок только для этого блока"]
--

. Чтобы изменить стиль блока, нажмите _Сетка_ для настройки _Формат_ в разделе
_Формат_. Во всплывающем окне выберите _Этот блок (переопределить)_ из списка
_Для_. Выберите _Неформатированный список_ и нажмите _Применить (к этому
отображению)_. Вы можете в дальнейшем настроить стиль в следующем всплывающем окне, которое
появится. Тогда нажмите _Применить_.

. Чтобы настроить поле изображения, нажмите _Содержимое: Главное изображение_ в _Полях_.
Во всплывающем окне, которое появится, выберите _Этот блок (переопределить)_ из списка
_Для_. Выберите _Стиль изображения Миниатюра (100x100)_. Нажмите _Применить
(это отображение)_.
+
--
// Configuring the image field for this display only.
image:images/views-block_image.png["Image to thumbnail",width="100%"]
--

. Чтобы удалить ингредиенты из фильтров, нажмите _Содержимое: Ингредиенты (расширенные)_
в _Критериях фильтрации_. Во всплывающем окне выберите _Этот
блок (переопределить)_ из списка _Для_. Нажмите _удалить_ внизу окна.

. Чтобы настроить то, как вы хотите сортировать в отображении, нажмите _Добавить_
из выпадающего списка-кнопки в _Критериях фильтрации_. Во всплывающем окно
выберите _Этот блок (переопределить)_ из списка _Для_. Отметьте
_Время создания_ (в категории _Содержимое_) и тогда нажмите _Добавить и настроить
критерий сортировки_.

. В появившемся окне конфигурации выберите _Сортировать по убыванию_, чтобы
самые последние рецепты появлялись вначале. Нажмите _Применить_.

. Для определения числа элементов, которые будут отображены, нажмите _Мини_ в поле _Использовать постраничный
навигатор_ в разделе _Постраничный навигатор_. Во всплывающем окне выберите _Этот блок
(переопределить)_ из списка _Для_. В разделе _Постраничный навигатор_ выберите _Отображать указанное
количество элементов_. Нажмите _Применить (это отображение)_. Во всплывающем окне _Блок: Параметры постраничного
навигатора_, поставьте "5" для поля _Элементов на страницу_. Нажмите _Применить_.

. Нажмите _Сохранить_. Вы увидите редактирование представления снова или страницу Рецептов,
в зависимости от того, что вы сделали на шаге 1. Вы также увидите сообщение о том,
что представление было сохранено.
+
--
// View saved confirmation message.
image:images/views-block_recipes.png["Summary page after configuration",width="100%"]
--

. Разместите блок "Рецепты: Недавние Рецепты" в регионе _Вторая колонка_. Смотрите
<<block-place>>. Перейдите на главную страницу, чтобы посмотреть блок.
+
--
// Home page with recipes sidebar visible.
image:images/views-block_sidebar.png["Новый блок Рецепты на главной странице",width="100%"]
--

// ==== Expand your understanding


// ==== Related concepts

==== Видео

// Video from Drupalize.Me.
video::https://www.youtube-nocookie.com/embed/xrnuekARwYc[title="Adding a Block Display to a View"]

//==== Additional resources


*Авторы*

Написано и отредактировано https://www.drupal.org/u/lolk[Laura Vass] из
https://pronovix.com/[Pronovix],
https://www.drupal.org/u/jhodgdon[Jennifer Hodgdon] и
https://www.drupal.org/u/jojyja[Jojy Alphonso] из
http://redcrackle.com[Red Crackle].

Переведено https://www.drupal.org/u/levmyshkin[Абраменко Иван] из
https://www.technocrat.com.au/[Technocrat].
