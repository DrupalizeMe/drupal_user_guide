[[extend-maintenance]]

=== Включення і вимкннення режиму обслуговування

[role="summary"]
Як включити режим обслуговування, щоб налаштувати повідомлення «Сайт знаходиться в режимі обслуговування», і як його відключити.

(((Режим обслуговування, огляд)))
(((Режим обслуговування, включення)))
(((Режим обслуговування, відключення)))

==== Мета

Переведіть ваш сайт в режим обслуговування, щоб користувачі з правами доступу могли
використовувати сайт, в той час як користувачі без цього дозволу отримають повідомлення
що сайт знаходиться в режимі обслуговування.

==== Необхідні знання

<<security-concept>>

==== Вимоги до сайту

Якщо ви хочете використовувати Drush, щоб включати і вимикати режим обслуговування, Drush повинен бути
встановлено. Дивіться <<install-tools>>.

==== Кроки

Ви можете використовувати адміністративне меню або Drush для включення або виключення
режиму обслуговування.

===== Включення режиму обслуговування через адміністративний інтерфейс

. В _Керування_ адміністративного меню, перейдіть в _Конфігурація_ >
_Розробка_ > _Режим обслуговування_ (_admin/config/development/maintenance_).
з'явиться сторінка _Режим обслуговування_.

. Заповніть поля, як показано нижче.
+
[width="100%", frame="topbot", options="header"]
|================================
|Ім'я поля |пояснення |значення
|Перекласти сайт в режим обслуговування |Включити режим обслуговування |Checked
|Повідомлення про те, що сайт знаходиться в режимі технічного обслуговування |Інформація, яка відображається
відвідувачам сайту при включеному режимі. Можна використовувати такі змінні, як @site
в повідомленні |@site в даний час знаходиться на обслуговуванні, але повинен повернутися
найближчим часом. Спасибі за терпіння.
|================================

. Натисніть _Зберегти конфігурацію_.

. Переконайтеся, що сайт знаходиться в режимі обслуговування, відкривши його з іншого
браузера, де ви не ввійшли в систему. Якщо ви не можете перевірити, спробуйте скинути
кеш. Дивіться <<prevent-cache-clear>>.
+
--
// Site in maintenance mode.
image:images/extend-maintenance-mode-enabled.png["Режим обслуговування включений", width="100%"]
--

===== Відключення режиму обслуговування з використанням адміністративного інтерфейсу

. В _Керування_ адміністративного меню, перейдіть в _Конфігурація_ > _Розробка_ > _Режим обслуговування_ (_admin/config/development/maintenance_).
З'явиться сторінка _Режим обслуговування_.

. Заповніть поля, як показано нижче.
+
[width="100%", frame="topbot", options="header"]
|================================
|Ім'я поля |пояснення |значення
|Перекласти сайт в режим обслуговування |Вимкнути режим обслуговування |Checked
|Повідомлення про те, що сайт знаходиться в режимі технічного обслуговування |При відключенні повідомлення з відповіді. Ви можете залишити поле порожнім. |
|================================

. Натисніть _Зберегти конфігурацію_.

. Переконайтеся, що сайт більше не знаходиться в режимі обслуговування, отримавши доступ до нього з
іншого браузера, де ви не ввійшли в систему. Якщо ви не можете перевірити, спробуйте скинути
кеш. Дивіться <<prevent-cache-clear>>.
+
--
// Site no longer in maintenance mode.
image:images/extend-maintenance-mode-disabled.png["Режим обслуговування відключений", width="100%"]
--

===== Включення або відключення режиму обслуговування за допомогою Drush

. Виконайте дії, описані вище, для редагування повідомлення про обслуговування сайту, якщо
це потрібно.

. Виконайте наступні команди Drush, щоб включити режим обслуговування і очистити
кеш:
+
----
drush config:set system.maintenance message "додаткове повідомлення" -y
drush state:set system.maintenance_mode 1 --input-format=integer
drush cache:rebuild
----

. Виконайте наступні команди Drush, щоб відключити режим обслуговування і очистити
кеш:
+
----
drush state:set system.maintenance_mode 0 --input-format=integer
drush cache:rebuild
----

. Після запуску будь-якого набору команд переконайтеся, що ваш сайт знаходиться в або
поза режимом обслуговування відвідавши сайт в браузері, де ви не
авторизовані.

==== Поліпшіть своє розуміння

* <<security-update-core>>

* <<security-update-theme>>

* <<security-update-module>>

// ==== Related concepts

==== Відео

// Video from Drupalize.Me.
video::https://www.youtube-nocookie.com/embed/IQbqQs5h03Q[title="Enabling and Disabling Maintenance Mode"]

// ==== Additional resources


*Автори*

Написано і змінено https://www.drupal.org/u/batigolix[Boris Doesborg],
https://www.drupal.org/u/jojyja[Jojy Alphonso] з
http://redcrackle.com[Red Crackle], і
https://www.drupal.org/u/jhodgdon[Jennifer Hodgdon].

Перекладено https://www.drupal.org/u/alexmazaltov[Олексій Бондаренко] із https://www.drupal.org/mazaltov[Mazaltov].
