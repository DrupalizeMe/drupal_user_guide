[[security-cron]]
=== پیکربندی وظایف نگهداری Cron

[role="summary"]
چگونگی اجرای وظایف نگهداری cron با استفاده از افزونه Automated Cron یا اجرا از خارج سایت.

(((Automated Cron module,configuring)))
(((Cron task,configuring)))

==== هدف

بررسی اینکه آیا وظایف نگهداری cron به صورت منظم اجرا می‌شوند یا خیر، و اجرای آن‌ها با استفاده از افزونه داخلی Automated Cron یا سرور سایت.

==== دانش پیشنیاز

<<security-cron-concept>>

// ==== Site prerequisites

==== گام‌ها

. صفحه _گزارش وضعیت_ را بررسی کرده تا ببینید آخرین اجرای وظایف نگهداری cron چه زمانی بوده است. <<prevent-status>> را مشاهده کنید.
+
اگر سایت را با استفاده از پروفایل استاندارد نصب (یا گزینه‌های مشابه) ایجاد کرده باشید، آنگاه وظایف نگهداری cron به صورت خودکار توسط افزونه داخلی Automated Cron اجرا می‌شوند. به صورت پیشفرض، این وظایف هر ۳ ساعت یکبار اجرا می‌شوند.

. انتخاب کنید به چه صورت می‌خواهید وظایف نگهداری cron را اجرا کنید، با افزونه داخلی Automated Cron یا روشی دیگر. این افزونه ممکن است برای برخی وبسایت‌ها مناسب نباشد زیرا:
+
  * هر زمان که فردی به یک صفحه از سایت دسترسی می‌یابد، افزونه آخرین زمان اجرای وظایف نگهداری cron را بررسی و در صورت لزوم آن‌ها را اجرا می‌کند. اگر کسی از وبسایت بازدید نکند، وظایف نگهداری cron هیچگاه اجرا نمی‌شوند.
  * وظایف نگهداری cron درست پس از تولیدشدن صفحه اجرا می‌گردند. به این معنی که زمان کوتاهی برای وظایف درست قبل از به پایان رسیدن زمان سرور برای تولید صفحه وجود دارد (برای نمونه، مدت زمان اجرای اسکریپت PHP). اگر این اتفاق بیفتد، گزارش‌ها بیان می‌کنند که مدت زمان کافی برای اجرا cron وجود ندارد. <<prevent-log>> را مشاهده کنید.
  * یک هزینه کوچک https://en.wikipedia.org/wiki/Scalability[مقیاس‌پذیری] در رابطه با استفاده از افزونه داخلی Automated Cron وجود دارد. به این دلیل که یکی از فرآیندهای سرور وب اشغال شده است و تا زمانی که اجرای وظایف نگهداری cron به پایان نرسد نمی‌تواند به سایر درخواست‌ها پاسخ دهد.

. اگر قصد استفاده از افزونه داخلی Automated Cron را دارید، ابتدا از نصب آن اطمینان حاصل کنید (این افزونه هنگام استفاده از پروفایل استاندارد نصب فعال می‌شود؛ در صورت غیرفعال بودن، <<config-install>> را مشاهده کنید).
+
سپس، افزونه را به منظور تعداد دفعات اجرای وظایف نگهداری cron پیکربندی کنید. از منوی _مدیریت_ به مسیر _پیکربندی_ > _سیستم_ > _کرون_ (_admin/config/system/cron_) بروید. بازه زمانی مورد نظر را از قسمت _تنظیمات Cron_ انتخاب کرده و روی _ذخیره پیکربندی_ کلیک کنید.
+
--
// Cron configuration page (admin/config/system/cron).
image:images/security-cron.png["پیکربندی افزونه داخلی Automated Cron"]
--

. اگر قصد اجرای وظایف نگهداری cron با استفاده از ابزار موجود در سرور را دارید، افزونه داخلی Automated Cron را غیرفعال کنید (<<config-uninstall>> را مشاهده کنید). سپس، نشانی cron را بیابید. این نشانی در صفحه _گزارش وضعیت_ (<<prevent-status>> را مشاهده کنید) و صفحه مدیریتی _Cron_ (گام قبل را مشاهده کنید) وجود دارد. نشانی شبیه به این رشته است:
_http://www.example.com/cron/0MgWtfB33FYbbQ5UAC3L0LL3RC0PT3RNUBZILLA0Nf1Re_
+
هر زمان که این نشانی بازدید شود، وظایف نگهداری cron اجرا می‌شوند. یکی از زمانبندهای زیر را به منظور دسترسی متداول به این نشانی تنظیم کنید:
+
  * https://www.drupal.org/node/23714[فرآیند پس‌زمینه Cron] (لینوکس، OS X، سولاریس، BSD)
  * https://www.drupal.org/node/31506[وظایف زمانبندی] (ویندوز)
  * یک فراهم‌کننده SASS یا Software as a Service برای cron.
  * یک مدیر cron که توسط سرویس میزبانی وب شما فراهم شده باشد (مستندات مربوط به ارائه‌دهنده سرویس خود را مشاهده کنید).

// ==== Expand your understanding

==== موضوعات مرتبط

<<security-concept>>

==== منابع مطالعاتی

* http://docs.drush.org/en/master/cron/[صفحه "اجرای وظایف cron دروپال" در مستندات Drush]
* https://www.drupal.org/docs/7/setting-up-cron/overview[صفحه "برپایی cron" در مستندات جامعه کاربری _Drupal.org_]

*مشارکت‌کنندگان*

نگارش و ویرایش توسط https://www.drupal.org/u/dalin[Dave Hansen-Lange] در https://www.advomatic.com/[Advomatic]، https://www.drupal.org/u/batigolix[Boris Doesborg] و https://www.drupal.org/u/jhodgdon[Jennifer Hodgdon]

ترجمه توسط https://www.drupal.org/u/novid[Navid Emami]
