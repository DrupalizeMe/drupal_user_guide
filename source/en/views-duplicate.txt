[[views-duplicate]]

=== Duplicating a View

[role="summary"]
How to create a new page by duplicating a view.

(((View,duplicating)))
(((Views module,duplicating a view)))
(((Module,Views)))

==== Goal

Create a page with all recipes by duplicating the existing Vendors view and
modify it so that the recipes are displayed in a grid and can by filtered by
ingredients.

==== Prerequisite knowledge

* <<views-concept>>
* <<views-parts>>
* <<views-create>>

==== Site prerequisites

* The Vendor and Recipe content types must exist; both must have Main Image
fields, and the Recipe content type must have an Ingredients field. Your site
must also have a couple of Recipe content items. See <<structure-content-type>>,
<<structure-fields>>, <<structure-taxonomy-setup>>, <<structure-form-editing>>,
and <<content-create>>.

* The Vendors view must exist. See <<views-create>>.

==== Steps

. In the _Manage_ administrative menu, navigate to _Structure_ > _Views_
(_admin/structure/views_). Find the view "Vendors" and click _Duplicate_ in its
dropdown button.
+
// Views page (admin/structure/views), with operations dropdown
// for Vendor view open.
image:images/views-duplicate_duplicate.png["Duplicate existing view",width="100%"]

[start=2]
. Name the duplicate "Recipes", confirm by clicking _Duplicate_. The view
configuration page appears.

. Click Vendors in the _Title_ section. _The title
of this view_ pop-up appears. Title it "Recipes" then click _Apply_.
+
// View title configuration screen.
image:images/views-duplicate_title.png["Change view title",width="100%"]

[start=4]
. In the _Format_ section click _Table_ next to _Format_. The _Page: How should
this view be styled_ pop-up appears. Check _Grid_ and click _Apply_.
The _Page: Style options_ pop-up appears where you can customize
your grid's appearance. Retain the default values and click _Apply_.

. In the _Fields_ section click the _Content: Body_ link, and then click
_Remove_ in the pop-up. This leaves the Recipes view with the title and image
only.

. In the _Filter criteria_ section change filtering from _Content:
Type(=Vendor)_ to filtering only for recipe content types: in the pop-up check
Recipe and uncheck Vendor then click _Apply_.

. Add a further filter, one exposed to visitors: click _Add_ in the _Filter
criteria_ section then search for "ingredients". Check _Ingredients
(field_ingredients)_ and click _Add and configure filter criteria_.

. The appearing pop-up offers extra settings on vocabulary and selection
type. Click _Apply and continue_. The next pop-up allows to expose this
filter to visitors. Fill in the fields as shown below.
+
[width="100%",frame="topbot",options="header"]
|================================
| Field name | Explanation| Example value
| Expose this filter to visitors, to allow them to change it | Allow visitors to filter and search | Checked
| Required field | Whether a value has to be provided or not | Unchecked
| Label | Label shown for this filter on the view page | Find recipes using...
|================================
+
// Ingredients field exposed filter configuration.
image:images/views-duplicate_expose.png["Expose filter"]

[start=9]
. In the _Page settings_ section next to  _Path, click /vendors_. In the pop-up,
enter path "recipes" and click _Apply_. Then via the _Menu_ pop-up
change the menu link title to "Recipes". Click _Apply_.

. Click _Advanced_ to expand the _Advanced_ section of the configuration
page. In the _Other_ section change _Use AJAX: No_ to "Yes" by clicking _No_ and
checking _Use AJAX_ in the pop-up that appears. Then click _Apply_.

. Click _Save_ to save the view.

. Go back to site, where the new Recipes page appears.
+
// Completed recipes view output.
image:images/views-duplicate_final.png["Recipes view",width="100%"]

==== Follow-on tasks

The link to the view in the main navigation will probably not be in the right
place. Change the order of the menu items in the main navigation. See
<<menu-reorder>>.

==== Related concepts

<<planning-structure>>

//==== Additional resources


*Attributions*

Written by https://www.drupal.org/u/lolk[Laura Vass] at
http://pronovix.com[Pronovix].
